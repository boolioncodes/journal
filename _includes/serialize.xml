{%- assign this=include.var -%}
{%- if this.first -%} 
  {%- assign firstLen = this.first | size -%}
  {%- assign key = this.first.first -%}
  {%- assign val = this.first.last -%}
  {%- if !key.first and firstLen == 2 -%}
    <node key="{{ key }}">
      {% include serialize.xml var=val %}
    </node>
  {%- else -%}
    <node>
    {%- for i in this -%}
      {% include serialize.xml var=i %}
    {%- endfor -%}
    </node>
  {%- endif %}
{%- else %}
  <node type="text">
    {{ this }}
  </node>
{% endif -%}
